- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- link:
    ~/.tmux.conf:
    ~/.config/git/ignore: gitignore
    ~/.gitconfig:
    ~/.ssh/config: sshconfig
    ~/.config/lvim/config.lua: lvim.config.lua
    ~/.config/awesome/rc.lua: x/awesome/rc.lua
    ~/.config/direnv/direnvrc: zsh/direnvrc
    ~/.zshrc: zsh/zshrc

- create:
    - ~/bin
    - ~/tmp
    - ~/.vim/undo-history
    - ~/.config/git
    - ~/.config/lvim
    - ~/.config/awesome
    - ~/.config/direnv

- create:
    ~/.ssh:
      mode: 0700

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    -
      - echo "[include]"                     > ~/.config/git/gitconfig
      - echo "  path = .dotfiles/gitconfig" >> ~/.config/git/gitconfig

