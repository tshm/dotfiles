- defaults:
    link:
      create: true
      relink: true

- clean: ["~"]

- link:
  ~/.tmux.conf:
  ~/.config/git/ignore: gitignore
  ~/.gitconfig:
  ~/.ssh/config: sshconfig
  ~/.config/lvim/config.lua: lvim.config.lua
  ~/.config/awesome/rc.lua: x/awesome/rc.lua
  ~/.config/direnv/direnvrc: zsh/direnvrc

- create:
    - ~/bin
    - ~/tmp
    - ~/.vim/undo-history
    - ~/.config/git
    - ~/.config/lvim
    - ~/.config/awesome
    - ~/.config/direnv

- create:
  ~/.ssh:
    mode: 0700

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - description: create gitconfig
      command: echo -e '[include]\npath = .dotfiles/gitconfig' > ~/.config/git/gitconfig
    - description: create zshrc
      command: echo 'source ~/.dotfiles/zsh/zshrc' > ~/.zshrc
